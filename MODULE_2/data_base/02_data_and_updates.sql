-- 1. INSERCIÓN DE DATOS INICIALES
INSERT INTO PRODUCTS (CODE, NAME, PRICE, DATE, BRAND)
VALUES
("A001", "Computer", 1000, "2024-01-01", "Dell"),
("A002", "TV", 1000, "2024-01-01", "Sony"),
("B001", "Bed", 1200, "2024-05-20", "Dream"),
("B002", "Stove", 1500, "2024-05-20", "LG"),
("C001", "Sofas", 2000, "2023-12-01", "IKEA"),
("C002", "Cabinets", 5000, "2024-12-01", "IKEA");

INSERT INTO INVOICES(N, DATE, E_MAIL, TOTAL)
VALUES
("001", "2024-01-01", "pedropablo@hotmail.com", 32000),
("002", "2024-02-01", "Juanjose@gmail.com", 28000),
("003", "2024-05-25", "mariajose@yahoo.com", 12000),
("004", "2024-01-30", "carlosjuanes@hotmail.com", 10000),
("005", "2025-02-05","alfredomedina@gmail.com", 57500);

INSERT INTO INVOICE_DETAILS(QUANTITY_PURCHASED, TOTAL_AMOUNT, PRODUCT_ID, INVOICE_ID)
VALUES
(10, 20000, 5, 1), (5, 6000, 3, 3), (10, 10000, 1, 2), (10, 50000, 6, 5),
(10, 10000, 2, 4), (10, 10000, 2, 2), (5, 7500, 4, 5), (10, 12000, 3, 1),
(4, 8000, 5, 2), (3, 6000, 5, 3);

INSERT INTO USERS (E_MAIL)
VALUES
("pedropablo@hotmail.com"), ("Juanjose@gmail.com"), ("mariajose@yahoo.com"),
("carlosjuanes@hotmail.com"), ("alfredomedina@gmail.com");

INSERT INTO SHOPPING_CART (PRODUCT_ID, USER_ID, QUANTITY)
VALUES
(5, 1, 10), (3, 3, 5), (1, 2, 10), (6, 5, 10), (2, 4, 10), (2, 2, 10),
(4, 5, 5), (3, 1, 10), (5, 2, 4), (5, 3, 3);

INSERT INTO REVIEWS (P_CODE, COMMENT, QUALIFICATION, DATE, PRODUCT_ID, USER_ID)
VALUES
("B001", "Very Comfortable", "★★★★", "2024-05-26", 3, 3),
("C002", "Very little space", "★★", "2025-02-06", 6, 5),
("A001", "The best buy", "★★★★★", "2024-02-02", 1, 2),
("B002", "I love it", "★★★★★", "2025-02-06", 4, 5),
("C001", "Too soft", "★★★", "2024-01-02", 5, 1),
("A002", "It wasn´t what I expected", "★", "2024-02-01", 2, 4);

INSERT INTO PAYMENT_METHOD (METHOD_TYPE)
VALUES
("Credit/Debit Cards"), ("E-Wallets"), ("COD"), ("Cryptocurrencies");

-- 2. INSERCIÓN DE CATEGORÍAS (Para normalización)
INSERT INTO CATEGORIES (NAME, DESCRIPTION)
VALUES
('Electronics', 'Devices and consumer electronic components.'),
('Furniture', 'Large, movable articles used to make a house habitable.'),
('White Goods', 'Large domestic appliances used for household tasks.');

-- 3. ACTUALIZACIONES DE DATOS
-- 3.1. Llenar columnas de USERS, INVOICES y PAYMENT_METHOD
UPDATE USERS SET FULL_NAME= "Pedro Pablo Escobar", R_DATE= "2023-07-01" WHERE ID=1;
UPDATE USERS SET FULL_NAME= "Juan Jose Lopez", R_DATE="2023-08-20" WHERE ID=2;
UPDATE USERS SET FULL_NAME= "Maria Jose Martinez", R_DATE= "2024-01-01" WHERE ID=3;
UPDATE USERS SET FULL_NAME= "Carlos Juanes", R_DATE="2023-03-20" WHERE ID=4;
UPDATE USERS SET FULL_NAME="Alfredo Medina", R_DATE="2024-11-16" WHERE ID=5;

UPDATE INVOICES SET USER_ID=1 WHERE ID=1;
UPDATE INVOICES SET USER_ID=2 WHERE ID=2;
UPDATE INVOICES SET USER_ID=3 WHERE ID=3;
UPDATE INVOICES SET USER_ID=4 WHERE ID=4;
UPDATE INVOICES SET USER_ID=5 WHERE ID=5;

UPDATE INVOICES SET PAYMENT_MET_ID=1 WHERE ID=1;
UPDATE INVOICES SET PAYMENT_MET_ID=2 WHERE ID=2;
UPDATE INVOICES SET PAYMENT_MET_ID=2 WHERE ID=3;
UPDATE INVOICES SET PAYMENT_MET_ID=1 WHERE ID=4;
UPDATE INVOICES SET PAYMENT_MET_ID=3 WHERE ID=5;

-- Llenando la columna QUANTITY que se agrego por ultimo.
UPDATE PRODUCTS SET QUANTITY = 50 WHERE ID = 1; -- Computer
UPDATE PRODUCTS SET QUANTITY = 15 WHERE ID = 2; -- TV
UPDATE PRODUCTS SET QUANTITY = 12 WHERE ID = 3; -- Bed
UPDATE PRODUCTS SET QUANTITY = 8 WHERE ID = 4; -- Stove
UPDATE PRODUCTS SET QUANTITY = 25 WHERE ID = 5; -- Sofas
UPDATE PRODUCTS SET QUANTITY = 5 WHERE ID = 6; -- Cabinets

-- 3.2. ASIGNACIÓN DE CATEGORÍAS (Para normalización)
UPDATE PRODUCTS SET CATEGORY_ID = 1 WHERE ID IN (1, 2); -- Electronics
UPDATE PRODUCTS SET CATEGORY_ID = 2 WHERE ID IN (3, 5, 6); -- Furniture
UPDATE PRODUCTS SET CATEGORY_ID = 3 WHERE ID IN (4); -- White Goods

-- 3.3. CORRECCIONES Y AJUSTES DE INVENTARIO (Comandos que ejecutamos)
UPDATE PRODUCTS SET QUANTITY = 0 WHERE PRICE <= 0;
UPDATE PRODUCTS SET PRICE = PRICE + 100 WHERE QUANTITY < 10;
UPDATE PRODUCTS SET QUANTITY = QUANTITY - 1 WHERE ID = 1;


-- LOS UPDATES DE LAS DOS COLUMNAS NUEVAS CREADAS AL FINAL. 
UPDATE INVOICES SET C_PHONE_NUMBER = "123-456-7890" WHERE ID = 1;
UPDATE INVOICES SET C_PHONE_NUMBER = "987-654-3210" WHERE ID = 2;
UPDATE INVOICES SET C_PHONE_NUMBER = "456-123-7890" WHERE ID = 3;
UPDATE INVOICES SET C_PHONE_NUMBER = "654-987-3210" WHERE ID = 4;
UPDATE INVOICES SET C_PHONE_NUMBER = "987-321-6540" WHERE ID = 5;

UPDATE INVOICES SET EMPLOYEE_CODE = 123 WHERE ID IN (1,4);
UPDATE INVOICES SET EMPLOYEE_CODE = 456 WHERE ID IN (2,5);
UPDATE INVOICES SET EMPLOYEE_CODE = 789 WHERE ID = 3;
